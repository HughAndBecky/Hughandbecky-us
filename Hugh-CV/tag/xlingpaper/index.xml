<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>XLingPaper | Hugh&#39;s Curriculum Vitae</title>
    <link>https://hughandbecky.us/Hugh-CV/tag/xlingpaper/</link>
      <atom:link href="https://hughandbecky.us/Hugh-CV/tag/xlingpaper/index.xml" rel="self" type="application/rss+xml" />
    <description>XLingPaper</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Hugh Paterson III © 2021</copyright><lastBuildDate>Fri, 07 May 2021 14:35:45 +0100</lastBuildDate>
    <image>
      <url>https://hughandbecky.us/Hugh-CV/media/HughPaterson.jpg</url>
      <title>XLingPaper</title>
      <link>https://hughandbecky.us/Hugh-CV/tag/xlingpaper/</link>
    </image>
    
    <item>
      <title>Converting FLExText Files to XLingPaper Interlinear Texts</title>
      <link>https://hughandbecky.us/Hugh-CV/post/flextext-to-xlingpaper/</link>
      <pubDate>Fri, 07 May 2021 14:35:45 +0100</pubDate>
      <guid>https://hughandbecky.us/Hugh-CV/post/flextext-to-xlingpaper/</guid>
      <description>&lt;p&gt;Let&amp;rsquo;s assume that we have a generous friend who has gifted us an interlinearized text from FLEx with morpheme level glossing in the format of &lt;code&gt;.flextext&lt;/code&gt;. (&lt;code&gt;.flextext&lt;/code&gt; is an XML formated file.) And lets say we want to type set that file in XLingPaper. How can we do that?&lt;/p&gt;
&lt;p&gt;One might be tempted to import the &lt;code&gt;.flextext&lt;/code&gt; file into FLEx so that it can be re-exported with the XLingPaper exports from the FLEx menus, but this is not really a viable option becasue if we import that FLExText to an empty FLEx database, FLEx will not import the morpheme level annotations — it will recognize the free-translation and the baseline text. Bascially anything which is related to the lexicon part of the database is not viewable in the imported database.&lt;/p&gt;
&lt;p&gt;However all is not lost we can use the XSLT transforms from FLEx by copying them to a usable location as the data start of those transforms is also &lt;code&gt;.flextext&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I run linux. On the command line I used &lt;code&gt;locate&lt;/code&gt; to find the XSL file titled &lt;code&gt;xml2XLingPapConcatMorphemes.xsl&lt;/code&gt; with &lt;code&gt;$ locate xml2XLingPapConcat&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It appeared on my comptuer at &lt;code&gt;/usr/share/fieldworks/Language Explorer/Export Templates/Interlinear/xml2XLingPapConcatMorphemes.xsl&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To run these transforms I was advised to use Saxon. Saxon is already installed on linux if XLingPaper is installed. Saxon comes with XMLMind.&lt;/p&gt;
&lt;p&gt;I also used &lt;code&gt;locate&lt;/code&gt; to find the Saxon file with &lt;code&gt;$ locate saxon&lt;/code&gt;
Mine was located at: &lt;code&gt;/opt/xxe-perso-7_6_0/bin/saxon.jar&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The basic syntax for operating Saxon is as follows:
&lt;code&gt;java -cp &amp;quot;wherever_saxon.jar_is/saxon.jar&amp;quot; com.icl.saxon.StyleSheet the_flextext_file path_to_the XSLT_files/\xml2XLingPapConcatMorphemes.xsl  &amp;gt; the_XLingPaper_output_file.xml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I then needed to change where I told Saxon the files were located. In my case I coppied the &lt;code&gt;.xsl&lt;/code&gt; files to their own folder within my project folder for simpler operation.&lt;/p&gt;
&lt;p&gt;There are other &lt;code&gt;.xsl&lt;/code&gt; files for transforming FLExTexts to interlinear files in XLingPaper. These can be seen by using &lt;code&gt;locate&lt;/code&gt; or in the official repo:
Check for the other files in the official FLEx repo at: &lt;a href=&#34;https://gerrit.lsdev.sil.org/admin/repos/FieldWorks,&#34;&gt;https://gerrit.lsdev.sil.org/admin/repos/FieldWorks,&lt;/a&gt; or specifically look at XLingPaper export xsl transforms as discussed in their origional merge into the FLEx project: &lt;a href=&#34;https://gerrit.lsdev.sil.org/c/FieldWorks/+/1961&#34;&gt;https://gerrit.lsdev.sil.org/c/FieldWorks/+/1961&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PDFs from Webpages</title>
      <link>https://hughandbecky.us/Hugh-CV/post/pdfs-of-webpages/</link>
      <pubDate>Fri, 15 Jan 2021 00:00:00 +0000</pubDate>
      <guid>https://hughandbecky.us/Hugh-CV/post/pdfs-of-webpages/</guid>
      <description>&lt;p&gt;In the course of writing a paper I needed to take screen shots of webpages and include those as figures in the paper. I could take a screenshot save it as a .png or .jpg and call it good. However these sorts of images do not provide a great deal of resolution and do not look clean in a published paper. Especially when dealing with screenshots as the resolution is not very high — at least in my experince. I could print the web page to PDF but a post-script style PDF would basically create an image and wrap it in a PDF. This is not really any better than the screenshot solution.&lt;/p&gt;
&lt;p&gt;With a quick internet search I uncovered two potential solutions: 
&lt;a href=&#34;https://wkhtmltopdf.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;wkhtmltopdf&lt;/a&gt; and 
&lt;a href=&#34;http://cssbox.sourceforge.net/webvector/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WebVector/CSSBox&lt;/a&gt;. I decided to try out &lt;code&gt;wkhtmltopdf&lt;/code&gt;. It was simple and easy to install on linux. It produces great resutls with a bit of tinkering (
&lt;a href=&#34;https://wkhtmltopdf.org/usage/wkhtmltopdf.txt&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;manual here&lt;/a&gt;). Though it should be noted that &lt;code&gt;wkhtmltopdf&lt;/code&gt; is based on webkit which has mostly not seen progressive development. I also tried WebVector (specifically on the website Pangloss) and it did not produce expected results.&lt;/p&gt;
&lt;p&gt;Playing around with wkhtmltopdf I was able to produce a PDF of several webpages I was looking to include. I used the following workflow after install:&lt;/p&gt;
&lt;p&gt;I adjusted my screen size to fit the type of display I wanted. Then I measured it via 
&lt;a href=&#34;https://whatismyviewport.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;whatismyviewport.com&lt;/a&gt;. I took that and made it my viewport size. Then I played around with my output settings for the PDF. I knew that I wanted really low margins because I was going to embed this PDF as a figure in another PDF. Then I continued to play around with the page size to find the cut-off point between the content I wanted and the footer.
In the end the code I used looked like this:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wkhtmltopdf --no-print-media-type --viewport-size 1100 --page-height 6.25in --page-width 7.75in -T 1mm -B 1mm -R 1mm -L 1mm --load-media-error-handling skip --enable-javascript --javascript-delay 2000 https://www.sil.org/resources/archives/52216 sil-item.pdf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wkhtmltopdf --no-print-media-type --viewport-size 1100 --page-height 8in --page-width 7.75in -T 1mm -B 1mm -R 1mm -L 1mm --load-media-error-handling skip --enable-javascript --javascript-delay 2000 https://scholarspace.manoa.hawaii.edu/handle/10125/30788 K-item.pdf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wkhtmltopdf --no-print-media-type --viewport-size 1100 --page-height 8.75in --page-width 7in -T 1mm -B 1mm -R 1mm -L 1mm --load-media-error-handling skip --enable-javascript --javascript-delay 2000 http://www.language-archives.org/item/oai:sil.org:52216 olac-item1.pdf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This produced a nice PDF. But I needed to get rid of the second page. I did this with PDF-Shuffler and just deleted the second page.
I wanted to include the final PDF in XLingPaper which uses XeLaTeX on the back end. However one of the current dependencies only allows PDFs of version 1.4 or older. So I had to &amp;ldquo;back version&amp;rdquo; the PDF version to 1.4. I the following code (adjustin for file names) to do that.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gs -q -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -o out.pdf in.pdf&lt;/code&gt; &lt;!-- https://superuser.com/questions/25598/linux-pdf-version-converter --&gt;
My suspicion though is that passing the PDF through GhostSript also removes some of the mark-up features which already exist in the PDF via &lt;code&gt;wkhtmltopdf&lt;/code&gt;. This may include some of the links and embedded fonts — but on this last point I am not 100 percent sure.&lt;/p&gt;
&lt;p&gt;In an earlier version of this workflow I was using standard size pages (A4, A3, etc.). Doing so required that I then cut the PDF so that the usable portion was able to usefully be scaled in xlingpaper. To do this I used 
&lt;a href=&#34;https://pdfresizer.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pdfresizer.com&lt;/a&gt; to reduce the physical dimensions of pdf paes. However this was not necessary to maintain because I was able to specify the dimentions I needed directly in &lt;code&gt;wkhtmltopdf&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>XLingPaper Upgrade on Linux</title>
      <link>https://hughandbecky.us/Hugh-CV/post/xlingpaper-upgrade-on-linux/</link>
      <pubDate>Tue, 30 Oct 2018 14:35:45 +0100</pubDate>
      <guid>https://hughandbecky.us/Hugh-CV/post/xlingpaper-upgrade-on-linux/</guid>
      <description>&lt;p&gt;I never remember how to upgrade XMLMind on Linux. Here are my notes on how to do it.&lt;/p&gt;
&lt;p&gt;I follow the install directions here: &lt;a href=&#34;http://www.xmlmind.com/xmleditor/_distrib/doc/help/installing_xxe.html&#34;&gt;http://www.xmlmind.com/xmleditor/_distrib/doc/help/installing_xxe.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Generally, the instructions follow like those below for version 8:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Make sure that the Java™ bin/ directory is referenced in the $PATH and, at the same time, check that the Java™ runtime in the $PATH has the right version:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;A command like the following will show the java version number.
&lt;code&gt;UserName$ java -version&lt;/code&gt; java version &amp;ldquo;10.0.1&amp;rdquo; 2018-04-17 Java(TM) SE Runtime Environment 18.3 (build 10.0.1+10) Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.1+10, mixed mode)&lt;/p&gt;
&lt;p&gt;Unpack the XXE distribution inside any directory you want:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;
$ cd
$ unzip xxe-pro-8_2_0.zip
$ ls xxe-pro-8_2_0
addon/
bin/
demo/
doc/
...
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;XXE is intended to be used directly from the xxe-pro-8_2_0/ directory. That is, you can start XXE by simply executing:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ xxe-pro-8_2_0/bin/xxe &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I can never remember what to do next. Here is the solution:&lt;/p&gt;
&lt;p&gt;On my system &lt;code&gt;xxe &amp;amp;&lt;/code&gt; is sym-linked to the version that I want to be primary. This is done in &lt;code&gt;/usr/local/bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;So then there is a script in &lt;code&gt;/usr/local/bin&lt;/code&gt; which points back to the application (I don&amp;rsquo;t really know as I didn&amp;rsquo;t write it), but the point is that the symlink needs to be adjusted and can be adjusted with a combination of these tips:&lt;/p&gt;
&lt;p&gt;Find out which version of &lt;code&gt;xxe&lt;/code&gt; the item in &lt;code&gt;local/bin&lt;/code&gt; is pointed at with the following command:
&lt;code&gt;ls -l xxe&lt;/code&gt; Then if you want to adjust the versions one needs to over write the existing symlink. Or create a new one. In my case I changed &lt;code&gt;xxe&lt;/code&gt; to &lt;code&gt;xxe7&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; &lt;em&gt;Do not adjust &lt;code&gt;~/.bash_profile&lt;/code&gt; as that will only mess things up&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I did this once with &lt;code&gt;export $PATH=/absolute/path/to/xxe/&lt;/code&gt;and then my machine couldn&amp;rsquo;t find &lt;code&gt;/usr/local/bin&lt;/code&gt; any more.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If one wants an &lt;code&gt;xxe&lt;/code&gt; command then use that, but for me so that I don&amp;rsquo;t have to update the command all the time I use &lt;code&gt;xxe7&lt;/code&gt; for XMLMind version 7 and &lt;code&gt;xxe8&lt;/code&gt; and so forth.&lt;/p&gt;
&lt;p&gt;then symlink like so:
&lt;code&gt;cd /usr/local/bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;/usr/local/bin$&lt;/code&gt;&lt;/strong&gt;&lt;code&gt; sudo ln -s /home/username/path/to/XMLMind/xxe-version-folder/bin/xxe /usr/local/bin/xxe8&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
